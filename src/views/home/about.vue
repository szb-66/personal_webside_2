<template>
    <div class="scene">
        <div class="card" :style="cardStyle" @mousemove="onMouseMove" @mouseleave="onMouseLeave" id="home-about-card">
            <p class="time">{{ greeting }}我是</p>
            <!-- 网络上的emoj表情 -->
            <h2>施志标</h2>
            <p class="text">这里有我的工作<strong>项目复盘</strong>，一些关于<strong>设计</strong>、<strong>开发</strong>的个人知识库整理</p>
            <p class="text">很高兴认识你</p>
            <div class="more-info">
                <div class="logo" @click="goGithub">
                    <svg width="21" height="20" viewBox="0 0 21 20" fill="white" xmlns="http://www.w3.org/2000/svg"
                        class="img">
                        <path
                            d="M0.399902 9.86461C0.399902 14.1731 3.1611 17.8363 7.0095 19.1811C7.528 19.3128 7.44899 18.9424 7.44899 18.6922V16.9828C4.45652 17.3334 4.33719 15.3533 4.13473 15.0232C3.72816 14.3294 2.77017 14.1525 3.05576 13.8225C3.73721 13.4719 4.43183 13.9114 5.23509 15.1006C5.81696 15.9623 6.95189 15.8166 7.52882 15.6726C7.65263 15.1623 7.91793 14.6973 8.29422 14.3311C5.19476 13.7764 3.90181 11.8843 3.90181 9.63334C3.90181 8.54203 4.26229 7.53878 4.96761 6.72894C4.51825 5.39401 5.00959 4.2525 5.0746 4.08296C6.35686 3.96774 7.68684 5.00062 7.79054 5.08127C8.51891 4.88457 9.34932 4.78087 10.2785 4.78087C11.2126 4.78087 12.048 4.88786 12.7805 5.08703C13.0274 4.89774 14.2635 4.01136 15.4552 4.11999C15.5186 4.28953 15.9984 5.40471 15.5762 6.72071C16.2914 7.5322 16.6552 8.5445 16.6552 9.63911C16.6552 11.8933 15.3548 13.7871 12.2463 14.3352C12.5125 14.5974 12.7239 14.9101 12.868 15.2549C13.0121 15.5996 13.0862 15.9697 13.0858 16.3434V18.8247C13.1031 19.0231 13.0858 19.2198 13.4175 19.2198C17.3218 17.9038 20.1332 14.2134 20.1332 9.86626C20.1332 4.41463 15.7145 1.03497e-06 10.2678 1.03497e-06C4.81453 -0.002468 0.399902 4.41299 0.399902 9.86461Z" />
                    </svg>
                </div>
                <div class="logo" @click="goBilibili">
                    <svg width="20" height="19" viewBox="0 0 20 19" fill="white" xmlns="http://www.w3.org/2000/svg"
                        class="img">
                        <path
                            d="M16.5619 17.3716H3.77823C1.9287 17.3716 0.423584 15.9883 0.423584 14.2887V6.15632C0.423584 4.45627 1.9287 3.07299 3.77823 3.07299H16.5825C17.5277 3.07299 18.4316 3.44083 19.0628 4.08233C19.3366 4.35454 19.5532 4.67874 19.6999 5.03587C19.8466 5.39301 19.9204 5.77587 19.917 6.16194V14.2887C19.917 15.9883 18.4119 17.3716 16.5619 17.3716ZM3.77823 4.61934C2.78107 4.61934 1.96994 5.30864 1.96994 6.15632V14.2887C1.96994 15.1364 2.78107 15.8257 3.77823 15.8257H16.5619C17.559 15.8257 18.3702 15.1364 18.3702 14.2887V6.14367C18.3709 5.96159 18.3349 5.78125 18.2644 5.61339C18.1938 5.44553 18.0902 5.29359 17.9597 5.16665C17.6176 4.81896 17.1162 4.61934 16.582 4.61934H3.77823Z"
                            fill="" />
                        <path
                            d="M7.65806 9.05175L4.41822 9.79025C4.24672 9.82685 4.0677 9.79382 3.92055 9.69843C3.77339 9.60304 3.67016 9.4531 3.63356 9.28159C3.59696 9.11009 3.62999 8.93107 3.72538 8.78392C3.82077 8.63677 3.97072 8.53354 4.14222 8.49694L7.38206 7.75937C7.46703 7.7399 7.55505 7.73769 7.64089 7.75286C7.72673 7.76803 7.80865 7.80027 7.8818 7.84769C7.95495 7.8951 8.01784 7.95671 8.06674 8.02887C8.11564 8.10104 8.14956 8.18228 8.16649 8.26779C8.24474 8.61643 8.0067 8.97349 7.65806 9.05175ZM12.6823 9.05175C12.3337 8.97349 12.0956 8.61549 12.1739 8.26686C12.1908 8.18134 12.2247 8.1001 12.2736 8.02794C12.3225 7.95577 12.3854 7.89416 12.4586 7.84675C12.5317 7.79934 12.6136 7.76709 12.6995 7.75192C12.7853 7.73675 12.8733 7.73897 12.9583 7.75844L16.1981 8.496C16.3697 8.5326 16.5196 8.63583 16.615 8.78298C16.7104 8.93013 16.7434 9.10915 16.7068 9.28065C16.6702 9.45216 16.567 9.6021 16.4198 9.69749C16.2727 9.79288 16.0937 9.82591 15.9221 9.78931L12.6823 9.05175ZM5.31229 18.6668C5.17672 18.6668 5.04247 18.64 4.91724 18.5881C4.79201 18.5361 4.67826 18.46 4.58251 18.364C4.48675 18.268 4.41086 18.1541 4.35919 18.0288C4.30752 17.9034 4.28108 17.7691 4.28139 17.6335V16.859C4.28139 16.585 4.39023 16.3222 4.58395 16.1285C4.77768 15.9348 5.04043 15.8259 5.3144 15.8259C5.58837 15.8259 5.85112 15.9348 6.04485 16.1285C6.23858 16.3222 6.34741 16.585 6.34741 16.859V17.6335C6.34772 17.7691 6.32128 17.9034 6.26961 18.0288C6.21794 18.1541 6.14206 18.268 6.0463 18.364C5.95054 18.46 5.83679 18.5361 5.71156 18.5881C5.58633 18.64 5.45209 18.6668 5.31651 18.6668H5.31229ZM15.0281 18.6668C14.8923 18.6671 14.7578 18.6406 14.6323 18.5888C14.5068 18.5369 14.3928 18.4608 14.2968 18.3648C14.2008 18.2688 14.1247 18.1548 14.0729 18.0293C14.021 17.9038 13.9945 17.7693 13.9948 17.6335V16.859C13.9948 16.585 14.1037 16.3222 14.2974 16.1285C14.4911 15.9348 14.7539 15.8259 15.0278 15.8259C15.3018 15.8259 15.5646 15.9348 15.7583 16.1285C15.952 16.3222 16.0609 16.585 16.0609 16.859V17.6335C16.0612 17.7691 16.0347 17.9034 15.9831 18.0288C15.9314 18.1541 15.8555 18.268 15.7597 18.364C15.664 18.46 15.5502 18.5361 15.425 18.5881C15.2998 18.64 15.1655 18.6668 15.0299 18.6668H15.0281Z"
                            fill="" />
                        <path
                            d="M5.43312 0.284848C5.75488 -0.0748993 6.09564 -0.0938909 6.45539 0.227873L9.83631 3.25183C10.1961 3.5736 10.2151 3.91435 9.89329 4.2741C9.57152 4.63385 9.23077 4.65284 8.87102 4.33108L5.49009 1.30712C5.13035 0.985352 5.11135 0.644596 5.43312 0.284848Z"
                            fill="" />
                        <path
                            d="M10.4461 4.27492C10.1243 3.91518 10.1433 3.57442 10.503 3.25266L13.884 0.228696C14.2437 -0.0930686 14.5845 -0.074077 14.9062 0.285671C15.228 0.645418 15.209 0.986174 14.8493 1.30794L11.4683 4.3319C11.1086 4.65366 10.7678 4.63467 10.4461 4.27492Z"
                            fill="" />
                        <path
                            d="M11.256 13.7995C11.1487 13.7996 11.0429 13.7757 10.9461 13.7294C10.8494 13.6832 10.7642 13.6159 10.6969 13.5324L10.1234 12.823L9.53342 13.5226C9.41115 13.6674 9.23688 13.7584 9.04816 13.7759C8.85945 13.7934 8.6714 13.7361 8.52454 13.6163L7.71857 12.9518C7.67413 12.9172 7.63709 12.874 7.60963 12.8248C7.58217 12.7756 7.56486 12.7213 7.55871 12.6653C7.55256 12.6093 7.5577 12.5526 7.57383 12.4986C7.58995 12.4446 7.61674 12.3944 7.6526 12.3509C7.68846 12.3075 7.73267 12.2716 7.78262 12.2455C7.83257 12.2194 7.88724 12.2036 7.9434 12.199C7.99957 12.1944 8.05609 12.2011 8.10963 12.2187C8.16316 12.2363 8.21263 12.2644 8.2551 12.3014L8.96736 12.8881L9.57653 12.1679C9.64491 12.0869 9.73033 12.0219 9.82669 11.9777C9.92305 11.9335 10.028 11.9111 10.134 11.912C10.24 11.913 10.3445 11.9374 10.44 11.9834C10.5356 12.0294 10.6198 12.0959 10.6866 12.1782L11.2817 12.9116L12.1079 12.2944C12.1514 12.2542 12.2029 12.2236 12.259 12.2047C12.3151 12.1857 12.3746 12.1788 12.4335 12.1843C12.4925 12.1898 12.5496 12.2077 12.6012 12.2368C12.6528 12.2659 12.6977 12.3056 12.733 12.3532C12.7682 12.4008 12.7931 12.4553 12.8058 12.5131C12.8186 12.5709 12.8191 12.6308 12.8072 12.6888C12.7953 12.7469 12.7713 12.8017 12.7368 12.8499C12.7023 12.898 12.658 12.9384 12.6069 12.9683L11.6857 13.6557C11.5618 13.7489 11.411 13.7994 11.256 13.7995Z"
                            fill="" />
                    </svg>

                </div>
                <div class="more-info-text" @click="goAbout()">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="white" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16ZM7.0321 4.76985C6.84369 4.56797 6.52729 4.55706 6.32542 4.74548C6.12354 4.9339 6.11263 5.25029 6.30105 5.45217L9.08256 8.43236L6.31302 11.2019C6.11776 11.3972 6.11776 11.7137 6.31302 11.909C6.50828 12.1043 6.82487 12.1043 7.02013 11.909L10.1312 8.79789C10.3218 8.60737 10.3271 8.30015 10.1432 8.10318L7.0321 4.76985Z" />
                    </svg>
                    了解更多
                </div>
            </div>
        </div>
    </div>
</template>
  
<script setup>
import { ref, computed } from 'vue'
import { useRouter } from 'vue-router';
const router = useRouter();

// 获取时间
const greeting = computed(() => {
    const hour = new Date().getHours()
    if (hour >= 0 && hour <= 5) {
        return '凌晨好！'
    } else if (hour >= 6 && hour <= 11) {
        return '上午好！'
    } else if (hour >= 12 && hour <= 17) {
        return '下午好！'
    } else {
        return '晚上好！'
    }
})

// 跳转到github
const goGithub = () => {
    window.open('https://github.com/szb-66?tab=repositories')
}
// 跳转到bilibili
const goBilibili = () => {
    window.open('https://space.bilibili.com/268636758')
}
// 跳转到about页面
const goAbout = () => {
    // 路由跳转到about页
    router.push('/about');
}

// 控制卡片旋转
const rotateX = ref(0);
const rotateY = ref(0);

const onMouseMove = (e) => {
    const rect = document.getElementById("home-about-card").getBoundingClientRect();
    console.log(rect);
    const x = e.clientX - rect.left;
    const y = e.clientY - rect.top;
    // 旋转角度，修改后面的变量可以控制旋转的幅度
    rotateX.value = (y / rect.height - 0.5) * -8;
    rotateY.value = (x / rect.width - 0.5) * 8;
};
const onMouseLeave = () => {
    rotateX.value = 0
    rotateY.value = 0
};
const cardStyle = computed(() => ({
    '--rotate-x': rotateX.value,
    '--rotate-y': rotateY.value,
}))


</script>
  
<style lang="less" scoped>
.scene {
    // 给场景添加透视效果
    perspective: 600px;

}

.card {
    padding: 24px;
    background-color: var(--blue);
    border-radius: 16px;
    text-align: left;
    color: var(--white);
    transition: all 0.1s;
    // 普通指针
    cursor: default;

    .time {
        display: inline-block;
        padding: 8px 12px;
        background-color: var(--white-op16);
        border-radius: 12px;
        font-size: 14px;
        transition: all 0.3s;

        &:hover {
            background-color: var(--white);
            color: var(--blue);
            font-weight: 600;
        }
    }

    h2 {
        font-size: 38px;
        margin: 24px 0 0 0;
    }

    .text {
        line-height: 1.5;
        margin: 24px 0;
        color: var(--white-op80);

        strong {
            color: var(--white);
        }
    }

    .more-info {
        display: flex;
        align-items: center;

        .logo {
            margin-right: 16px;
            // padding: 6px;
            cursor: pointer;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background-color: var(--white-op16);
            transition: all 0.3s;

            display: flex;
            justify-content: center;
            align-items: center;

            &:hover {
                background-color: var(--white);

                .img {
                    fill: var(--blue);
                }
            }
        }

        .more-info-text {
            margin-left: auto;
            font-size: 16px;
            padding: 8px 12px;
            background-color: rgba(255, 255, 255, 0.16);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            cursor: pointer;
            transition: all 0.3s;

            &:hover {
                background-color: var(--white);
                color: var(--blue);
                font-weight: 600;
                svg {
                    fill: var(--blue);
                }
            }
        }
    }

    &:hover {
        // 鼠标移入时，给卡片添加旋转效果
        transform-style: preserve-3d;
        transform: rotateX(calc(var(--rotate-x)*1deg)) rotateY(calc(var(--rotate-y)*1deg)) scale(1.05);
        // 鼠标移入时，给卡片添加阴影效果
        box-shadow: 0px 4px 16px rgba(24, 46, 162, 0.5);
    }
}
</style>